# ุฎุงุฑุทุฉ ุทุฑูู ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุชุญุฑูุฑู - ุณุจู ุงูุฐููุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุณุชูุฏ ููุถุญ ุงูุจููุฉ ุงูุชุญุฑูุฑูุฉ ุงููุงููุฉ ุงููุทููุจุฉ ููุธุงู ุฅุฏุงุฑุฉ ุงููุญุชูู (CMS) ุงูุฎุงุต ุจู "ุณุจู ุงูุฐููุฉ"ุ ุจูุง ูู ุฐูู ูุง ุชู ุฅูุฌุงุฒู ูุงูุฎุทูุงุช ุงูุชุงููุฉ ุงููุทููุจุฉ.

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุงูุจููุฉ ุงูุชุญุชูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุฌุฏุงูู ุงููููุดุฃุฉ:**
- โ `articles` - ุงูููุงูุงุช ุงูุฃุณุงุณูุฉ (ูุญุฏูุซ)
- โ `article_revisions` - ุงูุฅุตุฏุงุฑุงุช ูุงููุฑุงุฌุนุงุช
- โ `editorial_comments` - ุงูููุงุญุธุงุช ุงูุชุญุฑูุฑูุฉ
- โ `workflow_history` - ุณุฌู ุณูุฑ ุงูุนูู
- โ `tags` - ุงููุณูู
- โ `article_tags` - ุนูุงูุฉ ุงูููุงูุงุช ุจุงููุณูู
- โ `topics` - ุงูููุถูุนุงุช ุงูุฎุงุตุฉ/ุงูุณูุงุณู
- โ `article_topics` - ุนูุงูุฉ ุงูููุงูุงุช ุจุงูููุถูุนุงุช
- โ `categories` - ุงูุชุตูููุงุช (ูุน ุตูุฑ ุงูููุฑู)
- โ `media` - ุงููุณุงุฆุท
- โ `users` - ุงููุณุชุฎุฏููู

**ุงูุชุญุฏูุซุงุช ุนูู ุฌุฏูู `articles`:**
- โ `content` - ุชู ุชุญูููู ุฅูู JSONB ูุฏุนู Blocks Editor
- โ `status` - ุชู ุชูุณูุนู ููุดูู: draft, review, approved, scheduled, published, killed
- โ `scheduledAt` - ุชุงุฑูุฎ ุงูุฌุฏููุฉ
- โ `currentRevision` - ุฑูู ุงููุณุฎุฉ ุงูุญุงููุฉ
- โ `lastEditedBy` - ุขุฎุฑ ูุญุฑุฑ

### 2. ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
- โ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู `/admin/users`
- โ API endpoints ูููุณุชุฎุฏููู
- โ ูุธุงู ุงูุตูุงุญูุงุช (user, writer, editor, admin)
- โ ุชุณุฌูู ุงูุฏุฎูู ูุงููุตุงุฏูุฉ

### 3. ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุตูููุงุช
- โ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชุตูููุงุช `/admin/categories`
- โ API endpoints ููุชุตูููุงุช
- โ ุฑูุน ุตูุฑ ุงูููุฑู (Vercel Blob)
- โ 10 ุชุตูููุงุช ุฑุณููุฉ ุฌุงูุฒุฉ

### 4. ูุธุงู ุฑูุน ุงููุณุงุฆุท
- โ API endpoint `/api/upload` ูุฑูุน ุงูุตูุฑ
- โ ุชูุงูู Vercel Blob Storage
- โ ุฏุนู ุฑูุน ุตูุฑ ุญุชู 5MB
- โ ุฃุณูุงุก ูููุงุช ูุฑูุฏุฉ ุชููุงุฆูุงู

---

## ๐ง ุงููุชุทูุจุงุช ุงููุชุจููุฉ

### 1. API Endpoints ููููุงูุงุช (ุฃููููุฉ ุนุงููุฉ)

**ุงููุทููุจ ุฅูุดุงุก `server/routers/articles.ts`:**

```typescript
// ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ
- articles.list({ search, status, categoryId, authorId, limit, offset })
- articles.getById({ id })
- articles.create({ title, slug, content, excerpt, categoryId, ... })
- articles.update({ id, ... })
- articles.delete({ id })

// ุณูุฑ ุงูุนูู
- articles.changeStatus({ id, toStatus, comment })
- articles.getWorkflowHistory({ id })

// ุงููุฑุงุฌุนุงุช
- articles.getRevisions({ id })
- articles.createRevision({ articleId, changes, editReason })
- articles.restoreRevision({ articleId, revisionNumber })

// ุงูููุงุญุธุงุช ุงูุชุญุฑูุฑูุฉ
- articles.addEditorialComment({ articleId, blockId, content })
- articles.getEditorialComments({ articleId })
- articles.resolveComment({ commentId })

// ุงูุฌุฏููุฉ
- articles.schedule({ id, scheduledAt })
- articles.publish({ id })

// ุงููุณูู ูุงูููุถูุนุงุช
- articles.addTag({ articleId, tagId })
- articles.removeTag({ articleId, tagId })
- articles.addTopic({ articleId, topicId })
- articles.removeTopic({ articleId, topicId })
```

### 2. ูุญุฑุฑ ุงูููุงูุงุช ุงูุงุญุชุฑุงูู (ุฃููููุฉ ุนุงููุฉ)

**ุงููุทููุจ ุฅูุดุงุก `/app/admin/articles/editor/page.tsx`:**

**ุงูููููุงุช ุงูุฃุณุงุณูุฉ:**
- Blocks Editor (ุจุงุณุชุฎุฏุงู Editor.js ุฃู Tiptap)
- ุฃููุงุน Blocks:
  - ููุฑุฉ (Paragraph)
  - ุนููุงู (Heading)
  - ุตูุฑุฉ (Image) ูุน ุฑูุน
  - ุงูุชุจุงุณ (Quote)
  - ููุฏูู (Video/Embed)
  - ุชุถูููุงุช ุณูุดูุงู (Social Embeds)
  - ุฌุฏุงูู (Tables)
  - ุฑูุงุจุท ุฏุงุฎููุฉ (Internal Links)
  - ููุงุฆู (Lists)
  - ููุฏ (Code Block)

**ุงููุธุงุฆู ุงููุทููุจุฉ:**
- ุญูุธ ุชููุงุฆู ูู 30 ุซุงููุฉ
- ูุดู ุงูุชุนุงุฑุถ ุนูุฏ ุงูุชุญุฑูุฑ ุงููุชุฒุงูู
- ูุนุงููุฉ ูุจุงุดุฑุฉ (Live Preview)
- Checklist ุชุญุฑูุฑูุฉ ูุจู ุงููุดุฑ:
  - ุนููุงู ููุงุณุจ (50-70 ุญุฑู)
  - ููุฏูุฉ/ุฏูุจ ููุฌูุฏุฉ
  - ุตูุฑุฉ ูููุฒุฉ ููุฌูุฏุฉ
  - ุชุตููู ูุญุฏุฏ
  - ูุณูู ูุถุงูุฉ (3-5 ูุณูู)
  - SEO: ุนููุงูุ ูุตูุ ูููุงุช ููุชุงุญูุฉ
  - ูุตุฏุฑ ูุญุฏุฏ (ุฅู ูุฌุฏ)

**ุงูุดุฑูุท ุงูุฌุงูุจู (Sidebar):**
- ูุนูููุงุช ุงูููุงู (ุนููุงูุ slugุ ููุฏูุฉ)
- ุงูุชุตููู ูุงููุณูู
- ุงูุตูุฑุฉ ุงููููุฒุฉ
- SEO
- ุงูุญุงูุฉ ูุงููุดุฑ
- ุงูุฌุฏููุฉ
- ุงููุตุฏุฑ

### 3. ุตูุญุฉ ูุงุฆูุฉ ุงูููุงูุงุช (ุฃููููุฉ ุนุงููุฉ)

**ุงููุทููุจ ุฅูุดุงุก `/app/admin/articles/page.tsx`:**

**ุงููุธุงุฆู:**
- ุนุฑุถ ุฌููุน ุงูููุงูุงุช ูู ุฌุฏูู
- ููุชุฑุฉ ุญุณุจ:
  - ุงูุญุงูุฉ (draft, review, approved, scheduled, published, killed)
  - ุงูุชุตููู
  - ุงููุงุชุจ
  - ุงูุชุงุฑูุฎ
- ุจุญุซ ูุตู
- ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ:
  - ุชุญุฑูุฑ
  - ูุนุงููุฉ
  - ุชุบููุฑ ุงูุญุงูุฉ
  - ุญุฐู
  - ูุณุฎ

### 4. ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุงุฆุท (DAM) (ุฃููููุฉ ูุชูุณุทุฉ)

**ุงููุทููุจ ุฅูุดุงุก `/app/admin/media/page.tsx`:**

**ุงููุธุงุฆู:**
- ููุชุจุฉ ูุณุงุฆุท ูุงุจูุฉ ููุจุญุซ
- ุฑูุน ูุชุนุฏุฏ (Drag & Drop)
- ูุนุงููุฉ ุงูุตูุฑ ูุงูููุฏูู
- ุชุญุฑูุฑ ุงูุจูุงูุงุช ุงููุตููุฉ:
  - ALT (ุฅูุฒุงูู)
  - Caption
  - ุญููู/ูุตุฏุฑ
- ูุต ูุชุญุฌูู ุงูุตูุฑ
- ุฃุญุฌุงู ูุชุนุฏุฏุฉ ุชููุงุฆูุฉ:
  - thumbnail (150x150)
  - medium (300x300)
  - large (1024x1024)
  - original
- ููุชุฑุฉ ุญุณุจ ุงูููุน (ุตูุฑุ ููุฏููุ ูุณุชูุฏุงุช)
- ุญุฐู ุฌูุงุนู

### 5. ูุธุงู ุงููุณูู ูุงูููุถูุนุงุช (ุฃููููุฉ ูุชูุณุทุฉ)

**ุงููุทููุจ ุฅูุดุงุก:**
- `/app/admin/tags/page.tsx` - ุฅุฏุงุฑุฉ ุงููุณูู
- `/app/admin/topics/page.tsx` - ุฅุฏุงุฑุฉ ุงูููุถูุนุงุช/ุงูุณูุงุณู

**API Endpoints:**
```typescript
// ุงููุณูู
- tags.list()
- tags.create({ name, slug, description })
- tags.update({ id, ... })
- tags.delete({ id })
- tags.getMostUsed({ limit })

// ุงูููุถูุนุงุช
- topics.list()
- topics.create({ name, slug, description, coverImage })
- topics.update({ id, ... })
- topics.delete({ id })
- topics.getArticles({ topicId })
```

### 6. ูุธุงู ุงููุดุฑ ูุงูุฌุฏููุฉ (ุฃููููุฉ ุนุงููุฉ)

**ุงููุทููุจ:**
- Cron Job ููุดุฑ ุงูููุงูุงุช ุงููุฌุฏููุฉ
- Webhooks ูููุงุฌูุฉ ุงูุนุงูุฉ ุนูุฏ ุงููุดุฑ
- ุฅุดุนุงุฑุงุช ูููุฑูู ุงูุชุญุฑูุฑู
- ูููุงุช ูุชุนุฏุฏุฉ:
  - ูููุน (Next.js)
  - RSS Feed
  - AMP (ุงุฎุชูุงุฑู)
  - ุฅุดุนุงุฑุงุช Push
  - X (Twitter)

**ุงููุทููุจ ุฅูุดุงุก:**
- `/app/api/cron/publish-scheduled/route.ts` - Cron Job
- `/app/api/webhooks/article-published/route.ts` - Webhook
- `lib/publishers/` - ููุชุจุงุช ุงููุดุฑ ููู ููุงุฉ

### 7. ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ (ุฃููููุฉ ูุชูุณุทุฉ)

**ุงููุทููุจ ุชุญุฏูุซ `/app/admin/page.tsx`:**

**ุงูุฅุญุตุงุฆูุงุช:**
- ุนุฏุฏ ุงูููุงูุงุช ุญุณุจ ุงูุญุงูุฉ
- ุนุฏุฏ ุงูููุงูุงุช ุงูููุดูุฑุฉ ุงูููู/ูุฐุง ุงูุฃุณุจูุน
- ุนุฏุฏ ุงูููุงูุงุช ุงููุฌุฏููุฉ
- ุนุฏุฏ ุงูููุงุญุธุงุช ุงูุชุญุฑูุฑูุฉ ุบูุฑ ุงููุญูููุฉ
- ุฃูุซุฑ ุงููุชูุงุจ ูุดุงุทุงู
- ุฃูุซุฑ ุงูุชุตูููุงุช ุงุณุชุฎุฏุงูุงู

**ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ:**
- ููุงู ุฌุฏูุฏ
- ููุงูุงุช ุชุญุชุงุฌ ูุฑุงุฌุนุฉ
- ููุงูุงุช ูุฌุฏููุฉ
- ููุงุญุธุงุช ุชุญุฑูุฑูุฉ

### 8. ูุธุงู ุงูุฅุดุนุงุฑุงุช (ุฃููููุฉ ููุฎูุถุฉ)

**ุงููุทููุจ:**
- ุฅุดุนุงุฑุงุช ูู ุงูููุช ุงููุนูู (WebSocket ุฃู Polling)
- ุฃููุงุน ุงูุฅุดุนุงุฑุงุช:
  - ููุงู ุฌุฏูุฏ ูุญุชุงุฌ ูุฑุงุฌุนุฉ
  - ููุงุญุธุฉ ุชุญุฑูุฑูุฉ ุฌุฏูุฏุฉ
  - ุชุบููุฑ ุญุงูุฉ ููุงู
  - ููุงู ุฌุงูุฒ ูููุดุฑ
  - ุฎุทุฃ ูู ุงููุดุฑ

---

## ๐ฆ ุงูุญุฒู ุงููุทููุจุฉ

```bash
# ูุญุฑุฑ Blocks
pnpm add @editorjs/editorjs @editorjs/paragraph @editorjs/header @editorjs/image @editorjs/quote @editorjs/embed @editorjs/table @editorjs/list @editorjs/code

# ุฃู ุจุฏูู Tiptap
pnpm add @tiptap/react @tiptap/starter-kit @tiptap/extension-image @tiptap/extension-link

# ูุนุงูุฌุฉ ุงูุตูุฑ
pnpm add sharp

# Cron Jobs
pnpm add node-cron

# WebSockets (ููุฅุดุนุงุฑุงุช)
pnpm add socket.io socket.io-client

# Diff ูููุฑุงุฌุนุงุช
pnpm add diff

# RSS Feed
pnpm add rss
```

---

## ๐ฏ ุฎุทุฉ ุงูุชูููุฐ ุงูููุชุฑุญุฉ

### ุงููุฑุญูุฉ 1: ุงูุฃุณุงุณูุงุช (1-2 ุฃุณุงุจูุน)
1. โ API endpoints ููููุงูุงุช
2. โ ุตูุญุฉ ูุงุฆูุฉ ุงูููุงูุงุช
3. โ ูุญุฑุฑ ุงูููุงูุงุช ุงูุฃุณุงุณู (ุจุฏูู Blocks)
4. โ ุณูุฑ ุงูุนูู ุงูุฃุณุงุณู (draft โ published)

### ุงููุฑุญูุฉ 2: ุงููุญุฑุฑ ุงูุงุญุชุฑุงูู (1 ุฃุณุจูุน)
1. โ ุชูุงูู Blocks Editor
2. โ ุฑูุน ุงูุตูุฑ ุฏุงุฎู ุงููุญุฑุฑ
3. โ ุญูุธ ุชููุงุฆู
4. โ ูุนุงููุฉ ูุจุงุดุฑุฉ

### ุงููุฑุญูุฉ 3: ุณูุฑ ุงูุนูู ุงููุงูู (1 ุฃุณุจูุน)
1. โ ุฌููุน ุญุงูุงุช ุณูุฑ ุงูุนูู
2. โ ุงูููุงุญุธุงุช ุงูุชุญุฑูุฑูุฉ
3. โ ุงููุฑุงุฌุนุงุช ูุงูุฅุตุฏุงุฑุงุช
4. โ Checklist ุชุญุฑูุฑูุฉ

### ุงููุฑุญูุฉ 4: ุฅุฏุงุฑุฉ ุงููุณุงุฆุท (1 ุฃุณุจูุน)
1. โ ููุชุจุฉ ุงููุณุงุฆุท
2. โ ุฑูุน ูุชุนุฏุฏ
3. โ ูุต ูุชุญุฌูู
4. โ ุงูุจูุงูุงุช ุงููุตููุฉ

### ุงููุฑุญูุฉ 5: ุงููุดุฑ ูุงูุฌุฏููุฉ (1 ุฃุณุจูุน)
1. โ Cron Job ูููุดุฑ
2. โ Webhooks
3. โ ูููุงุช ูุชุนุฏุฏุฉ
4. โ RSS Feed

### ุงููุฑุญูุฉ 6: ุงูุชุญุณููุงุช (ูุณุชูุฑ)
1. โ ุงูุฅุดุนุงุฑุงุช
2. โ ุงูุชุญูููุงุช
3. โ ุงูุฃุฏุงุก
4. โ ุงูุฃูุงู

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ุงูุฃูุงู
- ุฌููุน API endpoints ูุฌุจ ุฃู ุชููู ูุญููุฉ ุจู `protectedProcedure`
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ:
  - `writer`: ุฅูุดุงุก ูุชุญุฑูุฑ ููุงูุงุชู ููุท
  - `editor`: ูุฑุงุฌุนุฉ ูุชุญุฑูุฑ ุฌููุน ุงูููุงูุงุช ูู ูุณูู
  - `admin`: ุตูุงุญูุงุช ูุงููุฉ

### ุงูุฃุฏุงุก
- ุงุณุชุฎุฏุงู Pagination ูู ุฌููุน ุงูููุงุฆู
- Caching ููููุงูุงุช ุงูููุดูุฑุฉ
- Lazy Loading ููุตูุฑ
- Debouncing ููุจุญุซ ูุงูุญูุธ ุงูุชููุงุฆู

### ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ุชุตููู ูุชุฌุงูุจ (Mobile-First)
- ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ
- Drag & Drop ููุตูุฑ
- ูุนุงููุฉ ูุจุงุดุฑุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

---

## ๐ ุงูููุงุฑุฏ ุงููููุฏุฉ

- [Editor.js Documentation](https://editorjs.io/)
- [Tiptap Documentation](https://tiptap.dev/)
- [tRPC Documentation](https://trpc.io/)
- [Drizzle ORM Documentation](https://orm.drizzle.team/)
- [Vercel Blob Documentation](https://vercel.com/docs/storage/vercel-blob)

---

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ุฃู ุงููุณุงุนุฏุฉุ ูุฑุฌู ุงูุชูุงุตู ุนุจุฑ:
- GitHub Issues: https://github.com/sabq4org/sabqnews/issues
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@sabq.org

---

**ุขุฎุฑ ุชุญุฏูุซ:** 19 ุฃูุชูุจุฑ 2025
**ุงูุญุงูุฉ:** ููุฏ ุงูุชุทููุฑ - ุงููุฑุญูุฉ 1 ููุชููุฉ ุฌุฒุฆูุงู
